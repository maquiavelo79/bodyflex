
-- SELECT * FROM POSTULACION
-- SELECT * FROM PROFESIONAL

CALL SP_CP_PRO_CSU_PRO_POS_APR(1,@codErr);
SELECT @codErr AS corErr;

DROP PROCEDURE IF EXISTS bodyflex.SP_CP_PRO_CSU_PRO_POS;
CREATE PROCEDURE bodyflex.`SP_CP_PRO_CSU_PRO_POS`( IN idPos VARCHAR(20) ) 
BEGIN

  DECLARE EXIT HANDLER FOR SQLEXCEPTION SET codErr=99;

    SET codErr=0;
  
    SELECT P.POSID
    , P.POSNOM
    , P.POSAPE
    , P.POSEMA
    , (SELECT PEST FROM PROFESIONAL WHERE PID=P.POSID)
    FROM POSTULACION P
    WHERE P.POSID=idPos AND P.POSEST=8;
    
END




